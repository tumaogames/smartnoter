const _0x2503c5=_0x65fb;(function(_0x20eda5,_0x1c3b97){const _0x2f8f68=_0x65fb,_0x168785=_0x20eda5();while(!![]){try{const _0x247215=parseInt(_0x2f8f68(0x10e))/0x1+-parseInt(_0x2f8f68(0x163))/0x2+-parseInt(_0x2f8f68(0x115))/0x3*(-parseInt(_0x2f8f68(0x157))/0x4)+parseInt(_0x2f8f68(0x11d))/0x5+parseInt(_0x2f8f68(0x122))/0x6*(-parseInt(_0x2f8f68(0x14e))/0x7)+parseInt(_0x2f8f68(0x100))/0x8+parseInt(_0x2f8f68(0x102))/0x9;if(_0x247215===_0x1c3b97)break;else _0x168785['push'](_0x168785['shift']());}catch(_0x882037){_0x168785['push'](_0x168785['shift']());}}}(_0x513e,0x4d6fa));function _0x65fb(_0x556fcb,_0x5463cd){const _0x513ef2=_0x513e();return _0x65fb=function(_0x65fb78,_0x3c06bc){_0x65fb78=_0x65fb78-0xff;let _0x53a210=_0x513ef2[_0x65fb78];return _0x53a210;},_0x65fb(_0x556fcb,_0x5463cd);}const HTML_TAG_REGEX=/<html[^>]*>/i,HEAD_OPENING_TAG_STRING='<head>',HEAD_CLOSING_TAG_STRING=_0x2503c5(0x14f),BODY_OPENING_TAG_REGEX=/<body[^>]*>/,BODY_CLOSING_TAG_REGEX=/<\/body>(\s)*(<\/html>)?(\s)*$/,ASSETS_BASED_SRC_ATTRIBUTE=/\ssrc="assets\//gi,INJECTION_MINIFICATION_CONFIG={'minifyCSS':!![],'minifyJS':!![],'collapseWhitespace':!![]},TRAMPOLINE_FILE_NAME=_0x2503c5(0x125),renderChunks=async(_0xc5006c,_0x57eef2)=>{const _0x593324=_0x2503c5,_0x5977a8=_0xc5006c[_0x593324(0x15e)](_0x42e2c2=>_0x42e2c2['endsWith']('.js'))[_0x593324(0x145)](_0x5e0f74=>fs[_0x593324(0x112)](_0x5e0f74)['toString']()),_0x2c15bd=_0xc5006c['filter'](_0x1b1b11=>_0x1b1b11['endsWith']('.pug'))[_0x593324(0x145)](_0x1516cd=>pug['renderFile'](_0x1516cd,_0x57eef2)),_0x4814e3=_0xc5006c[_0x593324(0x15e)](_0x1efebc=>_0x1efebc[_0x593324(0x136)](_0x593324(0x130)))[_0x593324(0x145)](_0x52f1d8=>fs[_0x593324(0x112)](_0x52f1d8)[_0x593324(0x138)]());return minifyhtml('<style>'+_0x4814e3[_0x593324(0x159)]('\x0a')+'</style><script\x20type=\x22text/javascript\x22>'+_0x5977a8['join'](';')+_0x593324(0x15a)+_0x2c15bd[_0x593324(0x159)](''),INJECTION_MINIFICATION_CONFIG);};module['exports']=class Platform{constructor(_0x242cb3){const _0x2392b4=_0x2503c5;this[_0x2392b4(0x15c)]=_0x242cb3,this[_0x2392b4(0x103)]=[],this[_0x2392b4(0x15b)]=!global['config'][_0x2392b4(0x152)]['forceUncompressed'],this[_0x2392b4(0x11e)]=!global[_0x2392b4(0x11c)][_0x2392b4(0x152)]['forceBase64'],this[_0x2392b4(0x11f)]();}get[_0x2503c5(0x156)](){const _0x4deb9a=_0x2503c5;return path[_0x4deb9a(0x108)](__dirname,'index.pug');}get[_0x2503c5(0x14a)](){const _0x13f506=_0x2503c5;return path[_0x13f506(0x108)](__dirname,_0x13f506(0x142),_0x13f506(0x162),_0x13f506(0x158));}[_0x2503c5(0x11f)](){const _0x3eaed2=_0x2503c5,_0x1968d9=global[_0x3eaed2(0x11c)][_0x3eaed2(0x117)]||null,_0x3fab96=global[_0x3eaed2(0x11c)][_0x3eaed2(0x135)]||(_0x1968d9?_0x3eaed2(0x10f):null),_0x491795=path['join'](global[_0x3eaed2(0x111)][_0x3eaed2(0x119)],'VERSION'),_0x1d3b0e=_0x3fab96==='luna'?_0x1968d9:null,_0x5af911=fs[_0x3eaed2(0x107)](_0x491795)?fs[_0x3eaed2(0x112)](_0x491795)[_0x3eaed2(0x138)]()[_0x3eaed2(0x147)]('\x0a')[0x0]:_0x1d3b0e;this[_0x3eaed2(0x150)]={'engine':_0x3fab96,'engineVersion':_0x1968d9,'pipelineVersion':_0x5af911};}async[_0x2503c5(0x10a)](){const _0x318184=_0x2503c5;throw new Error(_0x318184(0x113));}async['storeMeta'](){const _0x28ae97=_0x2503c5,_0x5a67e4=path[_0x28ae97(0x159)](this['api'][_0x28ae97(0x149)],_0x28ae97(0x126));await fs[_0x28ae97(0xff)](_0x5a67e4,JSON[_0x28ae97(0x12e)](this[_0x28ae97(0x150)]));}async['bundle'](_0x41b53c=_0x2503c5(0x13b)){const _0x11bd04=_0x2503c5;this[_0x11bd04(0x10d)]=this[_0x11bd04(0x10d)]||{},await this['bundleResources'](),await this[_0x11bd04(0x15c)][_0x11bd04(0x124)](await this[_0x11bd04(0x123)](),_0x41b53c);if(!process['env'][_0x11bd04(0x151)])return;await this[_0x11bd04(0x15c)][_0x11bd04(0x13c)](this);}async[_0x2503c5(0x121)](_0x1f1290=_0x2503c5(0x14c)){const _0x48e1f3=_0x2503c5;this[_0x48e1f3(0x14d)]=await this['api'][_0x48e1f3(0x13e)](null,this['package'][_0x48e1f3(0x13f)],this['compress'],this[_0x48e1f3(0x11e)],_0x1f1290),this['blobs']=await this[_0x48e1f3(0x15c)][_0x48e1f3(0x154)](this[_0x48e1f3(0x10d)][_0x48e1f3(0x101)],this['compress'],this[_0x48e1f3(0x11e)],_0x1f1290),this['jsons']=await this[_0x48e1f3(0x15c)][_0x48e1f3(0x13d)](this['package'][_0x48e1f3(0x129)],this[_0x48e1f3(0x15b)],this[_0x48e1f3(0x11e)],_0x1f1290),this[_0x48e1f3(0x11b)]=await this[_0x48e1f3(0x15c)][_0x48e1f3(0x160)](this[_0x48e1f3(0x10d)][_0x48e1f3(0x15f)],this['useBase122'],_0x1f1290),this[_0x48e1f3(0x148)]=await this['api'][_0x48e1f3(0x114)](this[_0x48e1f3(0x10d)][_0x48e1f3(0x116)],this[_0x48e1f3(0x11e)],_0x1f1290),this[_0x48e1f3(0x143)]=await this[_0x48e1f3(0x15c)][_0x48e1f3(0x14b)](this[_0x48e1f3(0x10d)][_0x48e1f3(0x12a)],this['useBase122'],_0x1f1290);}async[_0x2503c5(0x12b)](_0x22cc97=_0x2503c5(0x13b),_0x54c529=_0x2503c5(0x14c),_0x3cfd48=![],_0x1afaa3='',_0x1dd5fc=''){const _0x3634c4=_0x2503c5,_0x107925=path[_0x3634c4(0x159)](this[_0x3634c4(0x15c)][_0x3634c4(0x12c)],'source.html'),_0x42411b=path['join'](this['api'][_0x3634c4(0x149)],_0x22cc97),_0x100c0e=await fs['readFile'](_0x107925),_0x4f23b5=await this[_0x3634c4(0x10a)](),_0x105e04=await this[_0x3634c4(0x11a)](!![]),[_0xb9f222,_0x2d9256]=[await renderChunks(_0x4f23b5['pre'],_0x105e04),await renderChunks(_0x4f23b5[_0x3634c4(0x155)],_0x105e04)];let _0x315fae=_0x100c0e[_0x3634c4(0x138)]();if(_0x315fae[_0x3634c4(0x139)](HEAD_OPENING_TAG_STRING)<0x0){const _0x171cd5=_0x315fae['match'](HTML_TAG_REGEX);if(_0x171cd5){const _0x8d9aa3=_0x171cd5[_0x3634c4(0x104)]+_0x171cd5[0x0]['length'];_0x315fae=_0x315fae[_0x3634c4(0x128)](0x0,_0x8d9aa3)+HEAD_OPENING_TAG_STRING+HEAD_CLOSING_TAG_STRING+_0x315fae['slice'](_0x8d9aa3);}else _0x315fae=HEAD_OPENING_TAG_STRING+HEAD_CLOSING_TAG_STRING+_0x315fae;}let _0xae861b=_0x315fae;const _0x1be4dd=_0xae861b['indexOf'](HEAD_OPENING_TAG_STRING)+HEAD_OPENING_TAG_STRING[_0x3634c4(0x161)];_0xae861b=_0xae861b[_0x3634c4(0x128)](0x0,_0x1be4dd)+_0xb9f222+_0xae861b[_0x3634c4(0x128)](_0x1be4dd);const _0x58afcb=_0xae861b['match'](BODY_OPENING_TAG_REGEX)[0x0],_0x4254fd=_0xae861b[_0x3634c4(0x139)](_0x58afcb)+_0x58afcb[_0x3634c4(0x161)];_0xae861b=_0xae861b[_0x3634c4(0x128)](0x0,_0x4254fd)+(_0x1dd5fc?_0x1dd5fc[_0x3634c4(0x118)]:'')+_0xae861b[_0x3634c4(0x128)](_0x4254fd);const _0x2e996a=_0xae861b[_0x3634c4(0x139)](_0xae861b['match'](BODY_CLOSING_TAG_REGEX)[0x0]);_0xae861b=_0xae861b['slice'](0x0,_0x2e996a)+_0x2d9256+(_0x1dd5fc?_0x1dd5fc[_0x3634c4(0x155)]:'')+_0xae861b['slice'](_0x2e996a);const _0x5a0379=path[_0x3634c4(0x159)](this[_0x3634c4(0x15c)][_0x3634c4(0x12c)],'assets');if(await fs['exists'](_0x5a0379)){const _0x5dba01=await fs['readdir'](_0x5a0379);for(const _0x185674 of _0x5dba01){const _0x3018b8=path[_0x3634c4(0x159)](_0x5a0379,_0x185674),_0x27c602=path['join'](this[_0x3634c4(0x15c)][_0x3634c4(0x149)],_0x54c529,_0x185674),_0x561631=this['api'][_0x3634c4(0x105)](_0x3018b8),_0x786337=_0x561631&&this[_0x3634c4(0x10d)]&&(_0x561631[_0x3634c4(0x134)](_0x3634c4(0x127))&&this['package']['inlineImages']||_0x561631[_0x3634c4(0x134)]('video/')&&this['package'][_0x3634c4(0x116)]||_0x561631[_0x3634c4(0x134)](_0x3634c4(0x10c))&&this['package'][_0x3634c4(0x12a)]||_0x561631[_0x3634c4(0x134)](_0x3634c4(0x106))&&this['package'][_0x3634c4(0x12a)]||_0x561631[_0x3634c4(0x134)]('font/')&&this[_0x3634c4(0x10d)][_0x3634c4(0x15f)]);if(_0x786337){const _0x385aef='data:'+_0x561631+_0x3634c4(0x132)+fs[_0x3634c4(0x112)](_0x3018b8)[_0x3634c4(0x138)](_0x3634c4(0x153));_0xae861b=_0xae861b['replace'](_0x3634c4(0x10b)+_0x185674+'\x22',_0x3634c4(0x131)+_0x385aef+'\x22');}else!await fs['exists'](_0x27c602)&&await fs[_0x3634c4(0x110)](_0x3018b8,_0x27c602);}process[_0x3634c4(0x12f)][_0x3634c4(0x144)]&&(_0xae861b=_0xae861b[_0x3634c4(0x12d)](ASSETS_BASED_SRC_ATTRIBUTE,_0x3634c4(0x131)+process[_0x3634c4(0x12f)][_0x3634c4(0x144)]+'/assets/'));}_0xae861b=_0xae861b['replace'](ASSETS_BASED_SRC_ATTRIBUTE,_0x3634c4(0x131)+_0x54c529+'/'),_0x3cfd48&&(_0xae861b=await this['injectTrampoline'](_0x54c529,_0xae861b,process[_0x3634c4(0x12f)][_0x3634c4(0x144)]||_0x1afaa3)),await fs[_0x3634c4(0xff)](_0x42411b,_0xae861b);}async[_0x2503c5(0x109)](_0x14a43c,_0x2074f6,_0x486393=''){const _0x51a8f9=_0x2503c5,_0x1d8484=path['join'](this[_0x51a8f9(0x15c)][_0x51a8f9(0x149)],_0x14a43c);!await fs[_0x51a8f9(0x15d)](_0x1d8484)&&await fs[_0x51a8f9(0x141)](_0x1d8484);const _0x4b5478=this[_0x51a8f9(0x15c)][_0x51a8f9(0x120)](_0x2074f6);await fs[_0x51a8f9(0xff)](path[_0x51a8f9(0x159)](_0x1d8484,TRAMPOLINE_FILE_NAME),_0x4b5478);const _0x54e451=await this[_0x51a8f9(0x11a)](),_0x103a54=global[_0x51a8f9(0x137)](_0x486393,_0x14a43c)+'/';return this[_0x51a8f9(0x15c)]['generateHTML'](this[_0x51a8f9(0x14a)],{..._0x54e451,'trampoline':{'path':global[_0x51a8f9(0x137)](_0x14a43c,TRAMPOLINE_FILE_NAME),'src':global['urljoin'](_0x103a54,TRAMPOLINE_FILE_NAME)},'assetsUrl':_0x103a54});}async[_0x2503c5(0x123)](_0x3c81f5){const _0x497d22=_0x2503c5,_0x4b5266=_0x3c81f5||await this[_0x497d22(0x11a)](),_0x1c95a1=await this[_0x497d22(0x15c)][_0x497d22(0x13a)](this[_0x497d22(0x156)],_0x4b5266);return this[_0x497d22(0x15c)][_0x497d22(0x140)](_0x1c95a1);}async[_0x2503c5(0x11a)](){const _0x119d78=_0x2503c5;return this[_0x119d78(0x15c)]['generatePackageConfig'](this);}async[_0x2503c5(0x146)](_0x4a5404){const _0x52c629=_0x2503c5,_0x1b8c1b=[{'src':path[_0x52c629(0x108)](__dirname,_0x52c629(0x142),'js','pi.js')},{'src':path['resolve'](__dirname,_0x52c629(0x142),'js',this[_0x52c629(0x15c)][_0x52c629(0x133)]())}];return this[_0x52c629(0x15c)][_0x52c629(0x13e)](_0x1b8c1b,![],![],this['useBase122'],_0x4a5404,'libraries.js');}};function _0x513e(){const _0x5938af=['endsWith','urljoin','toString','indexOf','generateHTML','index.html','getAssetsStatistic','combineJsons','combineScripts','inlineScripts','patch','mkdir','resources','sounds','BASE_URL','map','combineLibraries','split','videos','targetFolder','trampolinePath','getSounds','assets','scripts','77tfMkus','</head>','meta','STATS','unity','base64','combineBlobs','post','templatePath','2074132rzfVKY','trampoline.pug','join','</script>','compress','api','exists','filter','inlineImages','getImages','length','pug','776686QlDyjo','writeFile','482704BNTzie','inlineBlobs','466758BNboAg','relations','index','getMimeType','audio/','existsSync','resolve','injectTrampoline','getInjectionChunks','\x20src=\x22assets/','sound/','package','261819dSRaYw','luna','copy','paths','readFileSync','Abstract\x20platform\x20is\x20not\x20aware\x20of\x20injection\x20chunks!','getVideos','3vrRXkZ','inlineVideos','version','pre','pipeline','generatePackageConfig','images','config','205050SQZnAv','useBase122','assembleMeta','escapeHTMLForTrampoline','bundleResources','124386YUSSyH','buildTemplate','storeHTML','trampoline.js','.meta.json','image/','slice','inlineJsons','inlineSounds','inject','sourceFolder','replace','stringify','env','.css','\x20src=\x22',';base64,','getBrotliLibrary','startsWith','engine'];_0x513e=function(){return _0x5938af;};return _0x513e();}